import{c as m,r as t,u as f,j as e,d as v}from"./index-CA6ijpuF.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=m("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=m("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),S=()=>{const[a,p]=t.useState(""),[s,x]=t.useState(""),[l,b]=t.useState(""),[o,i]=t.useState(!1),[n,d]=t.useState(null),h=f(),y=async r=>{var c,u;r.preventDefault(),i(!0),d(null);try{await v.post("/shorts/upload",{title:a,videoUrl:s,thumbnail:l}),h("/play")}catch(g){d(((u=(c=g.response)==null?void 0:c.data)==null?void 0:u.msg)||"Failed to upload short")}finally{i(!1)}};return e.jsxs("div",{className:"max-w-xl mx-auto py-8 px-4",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2 text-gray-900",children:[e.jsx(N,{className:"text-brand-primary"})," Upload Short Video"]}),e.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Engage your audience with immersive 9:16 vertical videos."})]}),e.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-gray-100",children:[n&&e.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-sm mb-6",children:n}),e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Video Title/Caption"}),e.jsx("textarea",{required:!0,value:a,onChange:r=>p(r.target.value),className:"w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 focus:ring-2 focus:ring-brand-primary/20 focus:border-brand-primary outline-none transition",placeholder:"Describe your product or video...",rows:"2"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Video URL (mp4)"}),e.jsx("input",{type:"url",required:!0,value:s,onChange:r=>x(r.target.value),className:"w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 focus:ring-2 focus:ring-brand-primary/20 focus:border-brand-primary outline-none transition",placeholder:"https://example.com/video.mp4"}),e.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"In a production environment, this would be an S3/Cloudinary direct file upload instead of string input."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Thumbnail URL (Optional)"}),e.jsx("input",{type:"url",value:l,onChange:r=>b(r.target.value),className:"w-full bg-gray-50 border border-gray-200 rounded-xl px-4 py-3 focus:ring-2 focus:ring-brand-primary/20 focus:border-brand-primary outline-none transition",placeholder:"https://example.com/thumbnail.png"})]}),e.jsx("button",{type:"submit",disabled:o,className:"w-full bg-brand-primary text-white font-bold rounded-xl px-4 py-3.5 flex items-center justify-center gap-2 hover:bg-blue-700 transition disabled:opacity-50",children:o?e.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsxs(e.Fragment,{children:[e.jsx(j,{size:20})," Publish Short"]})})]})]})]})};export{S as default};

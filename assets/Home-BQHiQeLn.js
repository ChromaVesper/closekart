import{c as u,u as h,j as e,S as p,L as g,r as l,a as b,b as f,d as v}from"./index-bXu-IJ1o.js";import{C as y}from"./camera-DSDyfoDu.js";import{P as j}from"./ProductCard-C7raLEmG.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=u("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),w=()=>{const t=h();return e.jsx("div",{className:"px-4 mt-2",children:e.jsxs("div",{onClick:()=>t("/search"),className:"bg-white border border-gray-200 rounded-xl px-3 py-2.5 flex items-center gap-2 shadow-sm cursor-text",children:[e.jsx(p,{size:20,className:"text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search for Products, Brands and More",className:"flex-1 outline-none text-sm text-gray-700 bg-transparent placeholder-gray-400 pointer-events-none",readOnly:!0}),e.jsxs("div",{className:"flex items-center gap-3 border-l pl-3 border-gray-200",children:[e.jsx(N,{size:20,className:"text-gray-500 hover:text-blue-600 transition"}),e.jsx(y,{size:20,className:"text-gray-500 hover:text-blue-600 transition"})]})]})})},C=[{name:"For You",icon:"âœ¨"},{name:"Fashion",icon:"ðŸ‘•"},{name:"Mobiles",icon:"ðŸ“±"},{name:"Beauty",icon:"ðŸ’„"},{name:"Electronics",icon:"ðŸ’»"},{name:"Home",icon:"ðŸ "},{name:"Appliances",icon:"ðŸ“º"},{name:"Toys",icon:"ðŸ§¸"},{name:"Sports",icon:"âš½"},{name:"Furniture",icon:"ðŸª‘"}],c=()=>e.jsx("div",{className:"px-2 mt-4",children:e.jsx("div",{className:"flex overflow-x-auto hide-scrollbar gap-4 px-2 pb-2 snap-x",children:C.map((t,n)=>e.jsxs(g,{to:`/search?category=${t.name}`,className:"flex flex-col items-center gap-1.5 min-w-[64px] snap-start group",children:[e.jsx("div",{className:"w-14 h-14 rounded-full bg-gray-100 flex items-center justify-center text-2xl group-hover:bg-blue-100 transition shadow-sm border border-gray-200",children:t.icon}),e.jsx("span",{className:"text-[10px] font-semibold text-gray-700 text-center whitespace-nowrap",children:t.name})]},n))})}),d=[{title:"Discover What's Closest, Fastest, & Best",subtitle:"Compare prices, check real-time stock, and find delivery options nearby.",button1:"Find Products",button2:"Explore Shops",image:"/assets/banner1.png"},{title:"Support Local SwapKeepers",subtitle:"Connect with nearby sellers instantly.",image:"/assets/banner2.png"},{title:"Fast, Reliable, and Local",subtitle:"Everything near you in seconds.",image:"/assets/banner3.png"}];function x(){const[t,n]=l.useState(0);return l.useEffect(()=>{const s=setInterval(()=>{n(a=>(a+1)%d.length)},4e3);return()=>clearInterval(s)},[]),e.jsx("div",{className:"w-full h-[320px] md:h-[420px] relative overflow-hidden rounded-xl",children:d.map((s,a)=>e.jsx("div",{className:`absolute w-full h-full transition-all duration-700 ${a===t?"opacity-100 translate-x-0":"opacity-0 translate-x-full"}`,children:e.jsx("div",{className:"bg-gradient-to-r from-blue-700 to-blue-500 h-full flex flex-col justify-center px-8 text-white relative",children:e.jsxs("div",{className:"relative z-10",children:[e.jsx("h1",{className:"text-3xl md:text-5xl font-bold",children:s.title}),e.jsx("p",{className:"mt-3 text-lg",children:s.subtitle}),s.button1&&e.jsxs("div",{className:"mt-6 flex flex-wrap gap-4",children:[e.jsx("button",{className:"bg-white text-blue-700 px-6 py-2.5 rounded-lg font-bold hover:bg-gray-100 transition shadow",children:s.button1}),s.button2&&e.jsx("button",{className:"bg-blue-600 text-white border border-white px-6 py-2.5 rounded-lg font-bold hover:bg-blue-800 transition shadow",children:s.button2})]})]})})},a))})}const E=()=>{const{coords:t}=b(),{activeCoords:n}=f(),s=n||t,[a,i]=l.useState([]),[m,o]=l.useState(!1);return l.useEffect(()=>{!(s!=null&&s.latitude)||!(s!=null&&s.longitude)||(o(!0),v.get("/products/nearby",{params:{lat:s.latitude,lng:s.longitude,radius:5e3}}).then(r=>i(r.data)).catch(()=>i([])).finally(()=>o(!1)))},[s==null?void 0:s.latitude,s==null?void 0:s.longitude]),e.jsxs("div",{className:"bg-white min-h-screen font-sans",children:[e.jsxs("div",{className:"md:hidden",children:[e.jsx(w,{}),e.jsx(c,{}),e.jsx(x,{})]}),e.jsxs("div",{className:"hidden md:block mb-8",children:[e.jsx(x,{}),e.jsx("div",{className:"mt-8",children:e.jsx(c,{})})]}),e.jsxs("div",{className:"mt-6 px-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx("h2",{className:"text-sm font-bold text-gray-800",children:"Recommended For You"})}),m?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[1,2,3,4].map(r=>e.jsx("div",{className:"w-full h-48 bg-gray-50 rounded-xl animate-pulse"},r))}):a.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:a.map(r=>e.jsx(j,{product:r},r._id))}):e.jsx("div",{className:"bg-gray-50 border border-dashed border-gray-200 rounded-xl py-8 text-center text-gray-400",children:e.jsx("p",{className:"text-xs",children:"No products found nearby"})})]})]})};export{E as default};
